import{a as O,c as S,g as E,r as T}from"./chunk-MCGZYQAE.js";import{c as P}from"./chunk-ZUJFSXII.js";import{a as I}from"./chunk-4UE33GSN.js";import{$a as b,Aa as C,Ea as f,Ja as m,La as y,Pa as i,Qa as n,Ra as g,Va as a,Xa as c,Ya as h,ab as _,bb as x,eb as k,rb as v,sa as l,tb as M,ub as w,wa as u}from"./chunk-XOFY4L6N.js";import"./chunk-LJ5XHLMQ.js";import{h as d}from"./chunk-FK42CRUA.js";var z=(s,t)=>({error:s,success:t});function j(s,t){s&1&&(i(0,"i",27),c(1," Error"),n())}function N(s,t){s&1&&(i(0,"i",28),c(1," Logro"),n())}function U(s,t){s&1&&(i(0,"div",6)(1,"div",29),g(2,"button",30),n(),i(3,"h2"),c(4,"Cargando..."),n()())}var L=class s{constructor(t,r){this.supabaseService=t;this.router=r}email="";password="";showPassword=!1;condition=!1;alertNumber=0;alertTitle="";alertMessage="";spinner=!1;userPatients=[];ngOnInit(){return d(this,null,function*(){})}togglePassword(){this.showPassword=!this.showPassword}toggleShortcuts(){let t=document.getElementById("shortcuts");if(this.condition){t?.classList.add("hide-shortcuts"),this.condition=!1;return}t?.classList.remove("hide-shortcuts"),this.condition=!0}toggleAlertMessage(t){let r=document.getElementById("alert-message");t?r?.classList.add("hide-shortcuts"):r?.classList.remove("hide-shortcuts")}loginUser(){return d(this,null,function*(){try{this.spinner=!0;let t=!1,r=yield this.supabaseService.supabaseClient.from("usuarios").select("*").eq("mail",this.email).single();console.log(r),r.data!=null&&r.data!=null&&(r.data.perfil==="Especialista"&&!r.data.seVerificoEsp?(this.alertNumber=1,this.alertTitle="Especialista no Verificado",this.alertMessage="El administrador todav\xEDa no habilit\xF3 su cuenta para que pueda usarla. Espere su confirmaci\xF3n.",this.toggleAlertMessage(!1)):this.supabaseService.signIn(this.email,this.password).then(p=>d(this,[p],function*({data:e,error:o}){o?.message==="Email not confirmed"?(this.alertNumber=1,this.alertTitle="Correo no Confirmado",this.alertMessage="El usuario est\xE1 creado, pero todav\xEDa no se confirm\xF3 el correo. Confirme el correo que le ingres\xF3 a la casilla",this.toggleAlertMessage(!1)):o?.message==="Invalid login credentials"&&this.email!=""&&this.password!=""?(console.log("Credenciales Erroneas"),this.alertNumber=1,this.alertTitle="Credenciales Inv\xE1lidas",this.alertMessage="Alguna o ambas de las creadenciales ingresadas son erroneas. Por favor, reingresar credenciales...",this.toggleAlertMessage(!1)):o?.message==="missing email or phone"||this.email==""||this.password==""?(console.log("Hay campos sin completar"),this.alertNumber=1,this.alertTitle="Campos Incompletos",this.alertMessage="Hay por lo menos un campo que no contiene informacion. Por favor, completar campos...",this.toggleAlertMessage(!1)):o?(console.log("Error en el correo"),this.alertNumber=1,this.alertTitle="Error en la Conexi\xF3n",this.alertMessage="Hubo un error en la conexion con el autenticador de Supabase",this.toggleAlertMessage(!1)):e.user&&(console.log("Exitos al loguear"),this.alertNumber=2,this.alertTitle="\xC9xito Validando Usuario",this.alertMessage="Se pudo validar con \xE9xito el usuario en la base de datos. Ingresando...",this.toggleAlertMessage(!1),t=!0)}))),setTimeout(()=>{this.toggleAlertMessage(!0),this.spinner=!1,t&&(this.resetAll(),this.router.navigateByUrl("home"))},2500)}catch{console.log("Excepcion")}finally{}})}goTo(t){this.router.navigateByUrl(t)}fillUserOnShortcuts(t){t==1&&(this.email="estebanaguirre95@yopmail.com"),t==2&&(this.email="mariaazuldiaz@yopmail.com"),t==3&&(this.email="dvazquez021@yopmail.com"),t==4&&(this.email="draying.derma@yopmail.com"),t==5&&(this.email="drruiz.cardio@yopmail.com"),t==6&&(this.email="admin.j.etcheverry@yopmail.com"),this.password="123456",this.loginUser(),this.toggleShortcuts()}resetAll(){this.email="",this.password="",this.condition=!1,this.showPassword=!1}static \u0275fac=function(r){return new(r||s)(u(I),u(P))};static \u0275cmp=C({type:s,selectors:[["app-login"]],decls:41,vars:13,consts:[[1,"background"],["id","alert-message",1,"message","hide-shortcuts",2,"justify-content","center","align-items","center",3,"ngClass"],["class","fa-regular fa-circle-xmark","style","font-size: 30px; position: absolute; right: 10%; color: whitesmoke;",4,"ngIf"],["class","fa-regular fa-circle-check","style","font-size: 30px; position: absolute; right: 10%; color: whitesmoke;",4,"ngIf"],[1,"rounded"],[1,"text-alert"],[1,"spinner-overlay"],[1,"container-login"],[1,"logo","hover-logo",3,"click"],[2,"justify-items","center","align-items","center"],[1,"form-login"],["type","text","placeholder","Correo Electr\xF3nico",1,"input-text",3,"ngModelChange","ngModel"],[1,"password-container"],["placeholder","Contrase\xF1a",3,"ngModelChange","type","ngModel"],["type","button",1,"toggle-btn",3,"click"],[1,"fa",3,"ngClass"],["id","shortcuts",1,"container-shortcuts","hide-shortcuts"],[2,"display","flex","justify-content","center","align-items","center","justify-items","center","gap","40px"],[2,"display","flex","justify-content","center","align-items","center","justify-items","center","gap","3%","margin-bottom","20px"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/pacientes/DNI-37189209/imagen2.jpg","alt","esteban",1,"img-preview-shortcuts","patients",3,"click"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/pacientes/DNI-45901234/imagen2.jpg","alt","maria",1,"img-preview-shortcuts","patients",3,"click"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/pacientes/DNI-17567099/imagen1.jpg","alt","diego",1,"img-preview-shortcuts","patients",3,"click"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/especialistas/DNI-36891009/imagen.jpg","alt","clara",1,"img-preview-shortcuts","medics",3,"click"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/especialistas/DNI-32980103/imagen.jpg","alt","fernando",1,"img-preview-shortcuts","medics",3,"click"],["src","https://vxycsgamgbyfdomexise.supabase.co/storage/v1/object/public/clinica/administradores/DNI-34129887/imagen.jpg","alt","admin",1,"img-preview-shortcuts","admin",3,"click"],[1,"register-link","text-hover",3,"click"],[1,"button-login","button-hover",3,"click"],[1,"fa-regular","fa-circle-xmark",2,"font-size","30px","position","absolute","right","10%","color","whitesmoke"],[1,"fa-regular","fa-circle-check",2,"font-size","30px","position","absolute","right","10%","color","whitesmoke"],[1,"spinner"],["disabled","true",1,"spinner-logo"]],template:function(r,e){r&1&&(g(0,"div",0),i(1,"div",1),f(2,j,2,0,"i",2)(3,N,2,0,"i",3),g(4,"br"),i(5,"h2"),c(6),n(),g(7,"hr",4),i(8,"p",5),c(9),n()(),f(10,U,5,0,"div",6),i(11,"div",7)(12,"button",8),a("click",function(){return e.toggleShortcuts()}),n(),i(13,"div",9)(14,"h1"),c(15,"Ingresar al Sistema"),n()(),i(16,"div",10)(17,"input",11),x("ngModelChange",function(p){return _(e.email,p)||(e.email=p),p}),n(),i(18,"div",12)(19,"input",13),x("ngModelChange",function(p){return _(e.password,p)||(e.password=p),p}),n(),i(20,"button",14),a("click",function(){return e.togglePassword()}),g(21,"i",15),n()()(),g(22,"br"),i(23,"div",16)(24,"div",17)(25,"h2"),c(26,"Usuarios del Sistema"),n()(),g(27,"br"),i(28,"div",18)(29,"img",19),a("click",function(){return e.fillUserOnShortcuts(1)}),n(),i(30,"img",20),a("click",function(){return e.fillUserOnShortcuts(2)}),n(),i(31,"img",21),a("click",function(){return e.fillUserOnShortcuts(3)}),n(),i(32,"img",22),a("click",function(){return e.fillUserOnShortcuts(4)}),n(),i(33,"img",23),a("click",function(){return e.fillUserOnShortcuts(5)}),n(),i(34,"img",24),a("click",function(){return e.fillUserOnShortcuts(6)}),n()()(),i(35,"button",25),a("click",function(){return e.goTo("register")}),c(36,"\xBFNo tiene cuenta? Registrese..."),n(),g(37,"br")(38,"br"),i(39,"button",26),a("click",function(){return e.loginUser()}),c(40,"Ingresar"),n()()),r&2&&(l(),m("ngClass",k(10,z,e.alertNumber===1,e.alertNumber===2)),l(),m("ngIf",e.alertNumber==1),l(),m("ngIf",e.alertNumber==2),l(3),h(e.alertTitle),l(3),h(e.alertMessage),l(),y(e.spinner?10:-1),l(7),b("ngModel",e.email),l(2),m("type",e.showPassword?"text":"password"),b("ngModel",e.password),l(2),m("ngClass",e.showPassword?"fa-eye":"fa-eye-slash"))},dependencies:[w,v,M,T,O,S,E],styles:['@charset "UTF-8";@keyframes _ngcontent-%COMP%_heartbeat{0%{transform:scale(1);transform-origin:center center;animation-timing-function:ease-out}10%{transform:scale(.91);animation-timing-function:ease-in}17%{transform:scale(.98);animation-timing-function:ease-out}33%{transform:scale(.87);animation-timing-function:ease-in}45%{transform:scale(1);animation-timing-function:ease-out}}@keyframes _ngcontent-%COMP%_slide-in-blurred-right{0%{transform:translate(1000px) scaleX(2.5) scaleY(.2);transform-origin:0% 50%;filter:blur(40px);opacity:0}to{transform:translate(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}@keyframes _ngcontent-%COMP%_slide-in-blurred-top{0%{transform:translateY(-1000px) scaleY(2.5) scaleX(.2);transform-origin:50% 0%;filter:blur(40px);opacity:0}to{transform:translateY(0) scaleY(1) scaleX(1);transform-origin:50% 50%;filter:blur(0);opacity:1}}.background[_ngcontent-%COMP%]{background-image:url("./media/blur-hospital_1203-7974-4PPAG6UL.jpg");position:fixed;top:0%;right:0%;z-index:0;height:100%;width:100%;background-repeat:no-repeat;background-size:cover;background-position:center}.logo[_ngcontent-%COMP%]{background-image:url("./media/clinicaMedicaLogoAzulTres-SOHZPDOK.png");background-size:contain;background-repeat:no-repeat;width:200px;height:200px;background-color:transparent;border:transparent;margin-top:50px;transition:.4s ease-in-out;animation:_ngcontent-%COMP%_heartbeat 1.5s infinite}.container-login[_ngcontent-%COMP%]{position:absolute;width:60%;top:0;right:0;height:100%;background:#0000005c;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(33.7px);-webkit-backdrop-filter:blur(11.7px);justify-content:center;text-align:center;border-top-left-radius:15px;border-bottom-left-radius:15px;animation:_ngcontent-%COMP%_slide-in-blurred-right 1.5s cubic-bezier(.23,1,.32,1) both}.title-CMS[_ngcontent-%COMP%]{position:absolute;width:40%;top:0;left:0}.form-login[_ngcontent-%COMP%]{margin-top:50px;display:flex;flex-direction:column;gap:25px;justify-content:center;align-items:center}.input-text[_ngcontent-%COMP%]{padding:20px;height:70px;width:50%;font-family:medicalFont;border-radius:10px;font-size:25px;background-color:#ffffe0}.button-login[_ngcontent-%COMP%]{padding:20px;width:50%;font-family:medicalFont;border-radius:10px;color:#ffffe0;font-size:30px;background-color:#249fb57a;transition:1s ease-in-out;border:solid 1px black}.text-hover[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#ffffe0}.button-hover[_ngcontent-%COMP%]:hover{background-color:#0000005c;border:solid 1px lightyellow}.register-link[_ngcontent-%COMP%]{padding:20px;width:auto;border:transparent;background-color:transparent;color:#000;transition:1s ease-in-out;font-size:30px;font-family:medicalFont}.password-container[_ngcontent-%COMP%]{position:relative;width:50%;font-family:medicalFont;border-radius:10px;background-color:#ffffe0}.password-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:70px;padding:20px 40px 20px 20px;font-size:30px;background-color:#ffffe0;border-radius:10px}.password-container[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{position:absolute;right:3%;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer;color:#555;font-size:30px}.password-container[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{color:#000}h1[_ngcontent-%COMP%]{margin-top:20px;font-family:medicalFont;font-size:80px;text-shadow:1px 1px black;color:#f5f5f5}h2[_ngcontent-%COMP%]{font-family:medicalFont;font-size:50px;text-shadow:1px 1px black;color:#f5f5f5}.text-alert[_ngcontent-%COMP%]{font-family:medicalFont;font-size:25px;color:#f5f5f5}.message[_ngcontent-%COMP%]{position:absolute;width:30%;border-radius:35px;left:2.5%;top:5%;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(14.5px);-webkit-backdrop-filter:blur(14.5px);padding:30px;transform:scale(1);transition:transform .4s,top .4s;z-index:5000}.message[_ngcontent-%COMP%]   hr.rounded[_ngcontent-%COMP%]{border-top:5px solid #ffffff;border-radius:3px;width:80%}.img-preview-shortcuts[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;transition:.5s ease-in-out}.img-preview-shortcuts[_ngcontent-%COMP%]:hover{transform:scale(1.2);cursor:pointer}.patients[_ngcontent-%COMP%]{border:5px solid rgb(24,126,144)}.medics[_ngcontent-%COMP%]{border:5px solid rgb(212,201,151)}.admin[_ngcontent-%COMP%]{border:5px solid rgb(0,196,13)}.container-shortcuts[_ngcontent-%COMP%]{position:absolute;width:92%;border-radius:35px;gap:3%;bottom:5%;left:4%;background:#00000079;box-shadow:0 4px 30px #0000001a;backdrop-filter:blur(60.5px);-webkit-backdrop-filter:blur(60.5px);padding:25px;transform:scale(1);transition:transform .4s,top .4s}.hide-shortcuts[_ngcontent-%COMP%]{transform:scale(.0000001);z-index:5000}.error[_ngcontent-%COMP%]{background:#69272e9a}.success[_ngcontent-%COMP%]{background:#4498429a}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}.spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#000000b3;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:4999}.spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1.5s linear infinite}.spinner-logo[_ngcontent-%COMP%]{background-image:url("./media/spinnerClinica-EJ5DE6LS.png");background-size:contain;background-repeat:no-repeat;width:200px;height:200px;background-color:transparent;border:transparent;transition:.4s ease-in-out;animation:_ngcontent-%COMP%_heartbeat 1.5s infinite}']})};export{L as LoginComponent};
